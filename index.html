<!DOCTYPE html>
<html>
<head>
<title>India PIN Code Search</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {
  font-family: Arial;
  background: #f4f6f8;
  text-align: center;
  padding: 20px;
}
input, select, button {
  padding: 12px;
  width: 90%;
  max-width: 360px;
  margin: 6px;
  font-size: 16px;
}
button {
  background: #007bff;
  color: white;
  border: none;
}
.card {
  background: white;
  padding: 15px;
  margin: 15px auto;
  max-width: 380px;
  border-radius: 8px;
  box-shadow: 0 0 8px #ccc;
}
hr {
  margin: 25px 0;
}
</style>
</head>

<body>

<h2>India PIN Code Finder</h2>

<!-- OPTION 1: SEARCH BY PIN -->
<h3>Search by PIN Code</h3>
<input type="text" id="pin" placeholder="Enter 6-digit PIN code">
<button onclick="searchByPin()">Search</button>

<div id="pinResult"></div>

<hr>

<!-- OPTION 2: DROPDOWN SEARCH (SAMPLE) -->
<h3>Search using Dropdown (Sample)</h3>

<select id="district" onchange="loadVillages()">
  <option value="">Select District</option>
  <option>Nellore</option>
  <option>Chittoor</option>
</select>

<select id="village" onchange="showPin()">
  <option value="">Select Village</option>
</select>

<select id="pincode">
  <option value="">PIN Code</option>
</select>

<div id="dropResult"></div>

<script>
// ---------- OPTION 1: PIN SEARCH (REAL DATA) ----------
function searchByPin() {
  let pin = document.getElementById("pin").value;
  let result = document.getElementById("pinResult");

  if (!/^\d{6}$/.test(pin)) {
    result.innerHTML = "❌ Please enter valid 6-digit PIN";
    return;
  }

  fetch("https://api.postalpincode.in/pincode/" + pin)
    .then(res => res.json())
    .then(data => {
      if (data[0].Status !== "Success") {
        result.innerHTML = "❌ No data found";
        return;
      }

      let html = "";
      data[0].PostOffice.forEach(p => {
        html += `
        <div class="card">
          <b>Village/Post Office:</b> ${p.Name}<br>
          <b>District:</b> ${p.District}<br>
          <b>State:</b> ${p.State}<br>
          <b>PIN:</b> ${p.Pincode}
        </div>`;
      });

      result.innerHTML = html;
    });
}

// ---------- OPTION 2: DROPDOWN (SAMPLE DATA) ----------
const dropdownData = {
  "Nellore": {
    "Kavali": "524201",
    "Gudur": "524101"
  },
  "Chittoor": {
    "Tirupati": "517501",
    "Puttur": "517583"
  }
};

function loadVillages() {
  village.innerHTML = "<option>Select Village</option>";
  pincode.innerHTML = "<option>PIN Code</option>";

  let d = district.value;
  if (!dropdownData[d]) return;

  for (let v in dropdownData[d]) {
    village.innerHTML += `<option>${v}</option>`;
  }
}

function showPin() {
  let d = district.value;
  let v = village.value;

  if (!dropdownData[d] || !dropdownData[d][v]) return;

  pincode.innerHTML = `<option>${dropdownData[d][v]}</option>`;
}
</script>

</body>
</html>
