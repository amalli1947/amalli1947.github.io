<h2>India PIN Code Search</h2>
<p class="telugu">భారత పిన్ కోడ్ వివరాలు</p>

<!-- Search by PIN -->
<input type="text" id="pin" placeholder="Enter PIN / పిన్ కోడ్ నమోదు చేయండి">
<br>
<button onclick="searchPin()">Search by PIN / వెతకండి</button>

<hr>

<!-- Search by State + District -->
<select id="state">
    <option value="">Select State / రాష్ట్రం ఎంచుకోండి</option>
    <option value="Andhra Pradesh">Andhra Pradesh</option>
    <option value="Telangana">Telangana</option>
    <option value="Karnataka">Karnataka</option>
    <option value="Tamil Nadu">Tamil Nadu</option>
    <option value="Maharashtra">Maharashtra</option>
    <!-- You can add more states -->
</select>
<br><br>
<input type="text" id="district" placeholder="Enter District / జిల్లా నమోదు చేయండి">
<br>
<button onclick="searchByDistrict()">Search by District / జిల్లా వెతకండి</button>

<div id="result"></div>
function searchByDistrict() {
    var state = document.getElementById("state").value;
    var district = document.getElementById("district").value.trim();
    var result = document.getElementById("result");

    if (!state || !district) {
        result.innerHTML = "<p>Please select state and enter district / రాష్ట్రం & జిల్లా నమోదు చేయండి</p>";
        return;
    }

    // Fetch all PIN codes in India and filter (simplest method)
    fetch("https://api.postalpincode.in/AllIndia")
    .then(res => res.json())
    .then(data => {
        var html = "";
        var found = 0;

        data.forEach(pincode => {
            if (pincode.PostOffice) {
                pincode.PostOffice.forEach(p => {
                    if (p.State.toLowerCase() === state.toLowerCase() && p.District.toLowerCase() === district.toLowerCase()) {
                        html += `
                        <div class="card">
                            <b>Post Office:</b> ${p.Name}<br>
                            <b>PIN:</b> ${p.Pincode}<br>
                            <b>District:</b> ${p.District}<br>
                            <b>State:</b> ${p.State}<br><br>
                            <span class="telugu">
                            <b>పోస్ట్ ఆఫీస్:</b> ${p.Name}<br>
                            <b>పిన్ కోడ్:</b> ${p.Pincode}<br>
                            <b>జిల్లా:</b> ${p.District}<br>
                            <b>రాష్ట్రం:</b> ${p.State}
                            </span>
                        </div>`;
                        found++;
                    }
                });
            }
        });

        if (found === 0) {
            result.innerHTML = "<p>No data found / సమాచారం లభించలేదు</p>";
        } else {
            result.innerHTML = html;
        }
    })
    .catch(err => {
        result.innerHTML = "<p>Error fetching data / డేటా పొందడంలో లోపం</p>";
    });
}

